{"version":3,"sources":["reducers/GameReducer.js","store.js","actions/GameActions.js","components/Circle.js","components/Row.js","components/Board.js","components/Game.js","App.js","index.js"],"names":["initialState","board","rows","cols","player","GameReducer","state","arguments","length","undefined","action","type","i","col","Array","fill","push","initBoard","Object","assign","winner","store","createStore","initialize","movePlayer","position","getState","updateBoard","checkWinner","hasWinner","console","log","row","checkHorizontal","checkVertical","checkDiagonal","some","r","join","match","Circle","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","_args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","handleClick","args","props","move","componentDidMount","inherits","createClass","key","value","react_default","a","createElement","className","onClick","bind","Component","connect","dispatch","pos","Row","map","val","idx","components_Circle","rowCount","Board","init","components_Row","Game","components_Board","App","components_Game","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"uPAAMA,EAAe,CACnBC,MAAO,GACPC,KAAM,EACNC,KAAM,EACNC,OAAQ,GAuBKC,EApBK,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBP,EAAcU,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOC,MACb,IAAK,OACH,IAAIV,EAmBH,SAAmBC,EAAMC,GAE9B,IADA,IAAIF,EAAQ,GACHW,EAAI,EAAGA,EAAIV,EAAMU,IAAK,CAC7B,IAAIC,EAAMC,MAAMX,GAAMY,KAAK,GAC3Bd,EAAMe,KAAKH,GAEb,OAAOZ,EAzBSgB,CAAUX,EAAMJ,KAAMI,EAAMH,MACxC,OAAOe,OAAOC,OAAO,GAAIb,EAAO,CAC9BL,MAAOA,IAEX,IAAK,OACH,OAAOiB,OAAOC,OAAO,GAAIb,EAAO,CAC9BF,OAAQM,EAAON,OACfH,MAAOS,EAAOT,QAElB,IAAK,UACH,OAAOiB,OAAOC,OAAO,GAAIb,EAAO,CAC9Bc,OAAQV,EAAOU,SAEnB,QACE,OAAOd,ICrBb,IAEee,EAFDC,YAAYjB,GCDbkB,EAAa,WACxB,MAAO,CACLZ,KAAM,SAIGa,EAAa,SAAAC,GACxB,IAAInB,EAAQe,EAAMK,WACdhB,EAAS,CACbA,KAAc,QAGd,OAFAA,EAAOT,MAAQ0B,EAAYrB,EAAOmB,EAASZ,KAC3CH,EAAON,OAA0B,IAAjBE,EAAMF,OAAe,EAAI,EAClCM,GAGIkB,EAAc,WACzB,IAAItB,EAAQe,EAAMK,WACdN,EAASS,EAAUvB,EAAML,OAE7B,OADA6B,QAAQC,IAAI,cAAeX,GACvBA,EACK,CACLT,KAAM,UACNS,OAAQA,GAGH,CACLT,KAAM,cAKNgB,EAAc,SAACrB,EAAOO,GAE1B,IADA,IAAIZ,EAAQK,EAAML,MACT+B,EAAM1B,EAAMJ,KAAO,EAAG8B,GAAO,EAAGA,IACvC,IAAK/B,EAAM+B,GAAKnB,GAAM,CACpBZ,EAAM+B,GAAKnB,GAAOP,EAAMF,OACxB,MAIJ,OAAOH,GAGH4B,EAAY,SAAC5B,GAGjB,OADSgC,EAAgBhC,IAAUiC,EAAcjC,IAAUkC,EAAclC,IAIrEkC,EAAgB,SAAClC,KAIjBgC,EAAkB,SAAChC,GACvB,IAAImB,EAAS,EAYb,OAXAnB,EAAMmC,KAAK,SAACC,GACV,IAAIL,EAAMK,EAAEC,KAAK,IACjB,OAAIN,EAAIO,MAAM,SACZnB,EAAS,GACF,KACEY,EAAIO,MAAM,UACnBnB,EAAS,GACF,KAIJA,GAGHc,EAAgB,SAACjC,KClEVuC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAA2B,KAAAL,GAAA,QAAAM,EAAAvC,UAAAC,OAAAuC,EAAA,IAAAjC,MAAAgC,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAAzC,UAAAyC,GAAA,OAAAL,EAAAzB,OAAA+B,EAAA,EAAA/B,CAAA2B,MAAAH,EAAAxB,OAAAgC,EAAA,EAAAhC,CAAAsB,IAAAW,KAAAC,MAAAV,EAAA,CAAAG,MAAAQ,OAAAN,MACEO,YAAc,SAACC,GACbZ,EAAKa,MAAMC,KAAKF,IAFpBZ,EAIEe,kBAAoB,aAJtBf,EAAA,OAAAzB,OAAAyC,EAAA,EAAAzC,CAAAsB,EAAAC,GAAAvB,OAAA0C,EAAA,EAAA1C,CAAAsB,EAAA,EAAAqB,IAAA,SAAAC,MAAA,WAQI,OACEC,EAAAC,EAAAC,cAAA,UAEEF,EAAAC,EAAAC,cAAA,OACEC,UAAgC,IAArBrB,KAAKW,MAAMM,MAAc,UACf,IAArBjB,KAAKW,MAAMM,MAAc,UAAY,YACrCK,QAAStB,KAAKS,YAAYc,KAAKvB,KAAM,CACnCb,IAAKa,KAAKW,MAAMxB,IAChBnB,IAAKgC,KAAKW,MAAM3C,aAhB5B2B,EAAA,CAA4B6B,aAmC5B,IAGeC,cAHS,SAAChE,GACvB,OAAOA,GAZT,SAA4BiE,GAC1B,MAAO,CACLd,KAAM,SAAAe,GACJD,EAAS/C,EAAWgD,IACpBD,EAAS3C,MAEXA,YAAa,eAQF0C,CAA6C9B,GCtC/CiC,EAAb,SAAAhC,GAAA,SAAAgC,IAAA,OAAAvD,OAAA0B,EAAA,EAAA1B,CAAA2B,KAAA4B,GAAAvD,OAAA+B,EAAA,EAAA/B,CAAA2B,KAAA3B,OAAAgC,EAAA,EAAAhC,CAAAuD,GAAArB,MAAAP,KAAAtC,YAAA,OAAAW,OAAAyC,EAAA,EAAAzC,CAAAuD,EAAAhC,GAAAvB,OAAA0C,EAAA,EAAA1C,CAAAuD,EAAA,EAAAZ,IAAA,SAAAC,MAAA,WACW,IAAAnB,EAAAE,KACP,OACEkB,EAAAC,EAAAC,cAAA,UACKpB,KAAKW,MAAMxB,IAAI0C,IAAI,SAACC,EAAKC,GAAN,OAAcb,EAAAC,EAAAC,cAACY,EAAD,CAAQhB,IAAKe,EAAKd,MAAOa,EAAK3C,IAAKW,EAAKa,MAAMsB,SAAUjE,IAAK+D,WAJzGH,EAAA,CAAyBJ,aAYVC,cAHS,SAAChE,GACvB,OAAOA,GAEMgE,CAAyBG,GCX3BM,EAAb,SAAAtC,GAAA,SAAAsC,IAAA,OAAA7D,OAAA0B,EAAA,EAAA1B,CAAA2B,KAAAkC,GAAA7D,OAAA+B,EAAA,EAAA/B,CAAA2B,KAAA3B,OAAAgC,EAAA,EAAAhC,CAAA6D,GAAA3B,MAAAP,KAAAtC,YAAA,OAAAW,OAAAyC,EAAA,EAAAzC,CAAA6D,EAAAtC,GAAAvB,OAAA0C,EAAA,EAAA1C,CAAA6D,EAAA,EAAAlB,IAAA,oBAAAC,MAAA,WAEIjB,KAAKW,MAAMwB,SAFf,CAAAnB,IAAA,SAAAC,MAAA,WAMI,OACEC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACGpB,KAAKW,MAAMvD,MAAMyE,IAAI,SAAC1C,EAAK4C,GAAN,OAAcb,EAAAC,EAAAC,cAACgB,EAAD,CAAKpB,IAAKe,EAAK5C,IAAKA,EAAK8C,SAAUF,aAVrFG,EAAA,CAA2BV,aAwB3B,IAGeC,cAHS,SAAChE,GACvB,OAAOA,GART,SAA4BiE,GAC1B,MAAO,CACLS,KAAM,WACJT,EAAShD,QAOA+C,CAA6CS,GC5B/CG,EAAb,SAAAzC,GAAA,SAAAyC,IAAA,OAAAhE,OAAA0B,EAAA,EAAA1B,CAAA2B,KAAAqC,GAAAhE,OAAA+B,EAAA,EAAA/B,CAAA2B,KAAA3B,OAAAgC,EAAA,EAAAhC,CAAAgE,GAAA9B,MAAAP,KAAAtC,YAAA,OAAAW,OAAAyC,EAAA,EAAAzC,CAAAgE,EAAAzC,GAAAvB,OAAA0C,EAAA,EAAA1C,CAAAgE,EAAA,EAAArB,IAAA,SAAAC,MAAA,WAEI,OACEC,EAAAC,EAAAC,cAAA,WACGpB,KAAKW,MAAMpC,OAAS2C,EAAAC,EAAAC,cAAA,oBAAYpB,KAAKW,MAAMpC,OAAvB,UACnB2C,EAAAC,EAAAC,cAAA,mBAAWpB,KAAKW,MAAMpD,OAAtB,UAGF2D,EAAAC,EAAAC,cAACkB,EAAD,WARRD,EAAA,CAA0Bb,aAgBXC,cAHS,SAAChE,GACvB,OAAOA,GAEMgE,CAAyBY,GCPzBE,EAXf,SAAA3C,GAAA,SAAA2C,IAAA,OAAAlE,OAAA0B,EAAA,EAAA1B,CAAA2B,KAAAuC,GAAAlE,OAAA+B,EAAA,EAAA/B,CAAA2B,KAAA3B,OAAAgC,EAAA,EAAAhC,CAAAkE,GAAAhC,MAAAP,KAAAtC,YAAA,OAAAW,OAAAyC,EAAA,EAAAzC,CAAAkE,EAAA3C,GAAAvB,OAAA0C,EAAA,EAAA1C,CAAAkE,EAAA,EAAAvB,IAAA,SAAAC,MAAA,WAEI,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACoB,EAAD,WALRD,EAAA,CAAyBf,aCKzBiB,IAASC,OACPxB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAUnE,MAAOA,GACf0C,EAAAC,EAAAC,cAACwB,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.036b04bf.chunk.js","sourcesContent":["const initialState = {\n  board: [],\n  rows: 6,\n  cols: 7,\n  player: 1\n};\n\nconst GameReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'INIT':\n      let board = initBoard(state.rows, state.cols);\n      return Object.assign({}, state, {\n        board: board\n      });\n    case 'MOVE':\n      return Object.assign({}, state, {\n        player: action.player,\n        board: action.board\n      });\n    case 'ENDGAME':\n      return Object.assign({}, state, {\n        winner: action.winner\n      });\n    default:\n      return state;\n  }\n};\nexport default GameReducer;\n\nexport function initBoard(rows, cols) {\n  let board = [];\n  for (let i = 0; i < rows; i++) {\n    let col = Array(cols).fill(0);\n    board.push(col);\n  }\n  return board;\n}","import { createStore } from \"redux\";\nimport GameReducer from \"./reducers/GameReducer\";\n\nconst store = createStore(GameReducer);\n\nexport default store;","import store from '../store';\n\nexport const initialize = () => {\n  return {\n    type: \"INIT\"\n  };\n};\n\nexport const movePlayer = position => {\n  let state = store.getState();\n  let action = {};\n  action.type = \"MOVE\";\n  action.board = updateBoard(state, position.col);\n  action.player = state.player === 1 ? 2 : 1;\n  return action;\n};\n\nexport const checkWinner = () => {\n  let state = store.getState();\n  let winner = hasWinner(state.board);\n  console.log('checkWinner', winner)\n  if (winner) {\n    return {\n      type: 'ENDGAME',\n      winner: winner\n    };\n  } else {\n    return {\n      type: 'DONOTHING'\n    };\n  }\n};\n\nconst updateBoard = (state, col) => {\n  var board = state.board;\n  for (let row = state.rows - 1; row >= 0; row--) {\n    if (!board[row][col]) {\n      board[row][col] = state.player;\n      break;\n    }\n  }\n  // console.log(board);\n  return board;\n}\n\nconst hasWinner = (board) => {\n  let winner = 0;\n  winner = checkHorizontal(board) || checkVertical(board) || checkDiagonal(board);\n  return winner;\n}\n\nconst checkDiagonal = (board) => {\n\n}\n\nconst checkHorizontal = (board) => {\n  var winner = 0;\n  board.some((r) => {\n    var row = r.join('')\n    if (row.match(/1111/)) {\n      winner = 1;\n      return true;\n    } else if (row.match(/2222/)) {\n      winner = 2;\n      return true;\n    }\n    return false;\n  });\n  return winner;\n}\n\nconst checkVertical = (board) => {\n  \n}\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport { movePlayer, checkWinner } from '../actions/GameActions'\n\nexport class Circle extends Component {\n  handleClick = (args) => {\n    this.props.move(args);\n  };\n  componentDidMount = () => {\n    // this.props.checkWinner();\n  }\n  render() {\n    return (\n      <td>\n        {/* TODO: check for color */}\n        <div \n          className={this.props.value === 1 ? 'player1' : \n          this.props.value === 2 ? 'player2' : 'discEmpty'}\n          onClick={this.handleClick.bind(this, {\n            row: this.props.row, \n            col: this.props.col\n          })}>\n        </div>\n      </td>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    move: pos => {\n      dispatch(movePlayer(pos));\n      dispatch(checkWinner());\n    },\n    checkWinner: () => {\n      \n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Circle);\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport Circle from './Circle';\n\nexport class Row extends Component {\n  render() {\n    return (\n      <tr>\n          {this.props.row.map((val, idx) => <Circle key={idx} value={val} row={this.props.rowCount} col={idx} />)}\n      </tr>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps)(Row);\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport Row from './Row';\nimport { initialize } from '../actions/GameActions';\n\nexport class Board extends Component {\n  componentDidMount() {\n    this.props.init();\n  }\n\n  render() {\n    return (\n      <div>\n          <table>\n            <tbody>\n              {this.props.board.map((row, idx) => <Row key={idx} row={row} rowCount={idx} />)}\n            </tbody>            \n          </table>\n      </div>\n    );\n  }\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    init: () => {\n      dispatch(initialize())\n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport Board from './Board'\n\nexport class Game extends Component {\n  render() {\n    return (\n      <div>\n        {this.props.winner ? <h3>Player {this.props.winner} wins!</h3> : \n          <p>Player {this.props.player} turn!</p>}\n        \n        {/* TODO: add color */}\n        <Board />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps)(Game);\n","import React, {Component} from 'react';\nimport Game from './components/Game';\n\nexport class App extends Component {\n  render() {\n    return (\n      <div className='App'>\n        <h1>Connect 4</h1>\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\n\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}