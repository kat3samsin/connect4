{"version":3,"sources":["reducers/GameReducer.js","store.js","actions/GameActions.js","components/Cell.js","components/Row.js","components/Board.js","components/Game.js","App.js","index.js"],"names":["initialState","board","rows","cols","player","winner","GameReducer","state","arguments","length","undefined","action","type","i","col","Array","fill","push","initBoard","Object","assign","store","createStore","initialize","movePlayer","position","getState","updateBoard","checkWinner","hasWinner","row","checkHorizontal","checkVertical","checkDiagonal","some","r","join","match","boardT","map","idx","Cell","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","_args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","handleClick","args","props","move","inherits","createClass","key","value","react_default","a","createElement","className","onClick","bind","Component","connect","dispatch","pos","Row","val","components_Cell","rowCount","Board","init","components_Row","Game","initializeBoard","components_Board","App","components_Game","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9ca57868.chunk.js","sourcesContent":["const initialState = {\n  board: [],\n  rows: 6,\n  cols: 7,\n  player: 1,\n  winner: 0\n};\n\nconst GameReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'INIT':\n      let board = initBoard(state.rows, state.cols);\n      return Object.assign({}, state, {\n        board: board,\n        player: 1,\n        winner: 0\n      });\n    case 'MOVE':\n      return Object.assign({}, state, {\n        player: action.player,\n        board: action.board\n      });\n    case 'ENDGAME':\n      return Object.assign({}, state, {\n        winner: action.winner\n      });\n    default:\n      return state;\n  }\n};\nexport default GameReducer;\n\nexport function initBoard(rows, cols) {\n  let board = [];\n  for (let i = 0; i < rows; i++) {\n    let col = Array(cols).fill(0);\n    board.push(col);\n  }\n  return board;\n}","import { createStore } from \"redux\";\nimport GameReducer from \"./reducers/GameReducer\";\n\nconst store = createStore(GameReducer);\n\nexport default store;","import store from '../store';\n\nexport const initialize = () => {\n  return {\n    type: \"INIT\"\n  };\n};\n\nexport const movePlayer = position => {\n  let state = store.getState();\n  let action = {};\n  action.type = \"MOVE\";\n  action.board = updateBoard(state, position.col);\n  action.player = state.player === 1 ? 2 : 1;\n  return action;\n};\n\nexport const checkWinner = () => {\n  let state = store.getState();\n  let winner = hasWinner(state.board);\n  if (winner) {\n    return {\n      type: 'ENDGAME',\n      winner: winner\n    };\n  } else {\n    return {\n      type: 'DONOTHING'\n    };\n  }\n};\n\nconst updateBoard = (state, col) => {\n  var board = state.board;\n  for (let row = state.rows - 1; row >= 0; row--) {\n    if (!board[row][col]) {\n      board[row][col] = state.player;\n      break;\n    }\n  }\n  // console.log(board);\n  return board;\n}\n\nconst hasWinner = (board) => {\n  let winner = 0;\n  winner = checkHorizontal(board) || checkVertical(board) || checkDiagonal(board);\n  return winner;\n}\n\nconst checkDiagonal = (board) => {\n}\n\nconst checkHorizontal = (board) => {\n  var winner = 0;\n  board.some((r) => {\n    var row = r.join('')\n    if (row.match(/1111/)) {\n      winner = 1;\n      return true;\n    } else if (row.match(/2222/)) {\n      winner = 2;\n      return true;\n    }\n    return false;\n  });\n  return winner;\n}\n\nconst checkVertical = (board) => {\n  var winner = 0;\n  var boardT = board.map((col, idx) => board.map(row => row[idx]));\n  winner = checkHorizontal(boardT);\n  return winner;\n}","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport { movePlayer, checkWinner } from '../actions/GameActions'\n\nexport class Cell extends Component {\n  handleClick = (args) => {\n    if (!this.props.winner) {\n      this.props.move(args);\n    }\n  };\n\n  render() {\n    return (\n      <td className={this.props.player === 1 ? 'board-td p1-td' : 'board-td p2-td'}>\n        <div \n          className={this.props.value === 1 ? 'player1' : \n                    this.props.value === 2 ? 'player2' : 'init'}\n          onClick={this.handleClick.bind(this, {\n            row: this.props.row, \n            col: this.props.col\n          })}>\n        </div>\n      </td>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    move: pos => {\n      dispatch(movePlayer(pos));\n      dispatch(checkWinner());\n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Cell);\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport Cell from './Cell';\n\nexport class Row extends Component {\n  render() {\n    return (\n      <tr>\n          {this.props.row.map((val, idx) => <Cell key={idx} value={val} row={this.props.rowCount} col={idx} />)}\n      </tr>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps)(Row);\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\nimport Row from './Row';\nimport { initialize } from '../actions/GameActions';\n\nexport class Board extends Component {\n  initializeBoard() {\n    this.props.init();\n  }\n\n  render() {\n    return (<div>\n        <table className='board'>\n          <tbody>\n            {this.props.board.map((row, idx) => <Row key={idx} row={row} rowCount={idx} />)}\n          </tbody>            \n        </table>\n      </div>);\n  }\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    init: () => {\n      dispatch(initialize())\n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport Board from './Board';\nimport {initialize} from '../actions/GameActions';\n\nexport class Game extends Component {\n  initializeBoard() {\n    this.props.init();\n  }\n  render() {\n    return (\n      <div>\n        <button className='btn' onClick={this.initializeBoard.bind(this)}>New Game</button>\n        {this.props.board.length > 0? \n          <div>\n            {this.props.winner ? \n              <h1>Game Over!<br/>Player {this.props.winner} wins!</h1> :\n              <h1>Player {this.props.player}</h1>}\n            <Board />\n          </div> : null}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return state;\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    init: () => {\n      dispatch(initialize())\n    }\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\n","import React, {Component} from 'react';\n\nimport Game from './components/Game';\n\nexport class App extends Component {\n  render() {\n    return (\n      <div className='App'>\n        <div>\n          <h1 className='title'>Connect 4</h1>\n          <p>A classic game created using ReactJS<br/>\n          First player to connect 4 wins</p>\n        </div>\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\n\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}